/*! callStack 1.0.1 - MIT | git://github.com/rubaxa/callStack.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define([],function(){return a()}):"undefined"!=typeof module&&void 0!==module.exports?module.exports=a():window.callStack=a()}(function(){"use strict";function a(a,c,d,e){for(var f,g=a.length;g--;)if(f=a[g],f.fn===c)return"once"===e?(a.splice(g,1),!0):b(f.args,d);return!0}function b(a,b){if(a.length!==b.length)return!0;for(var c=m(a.length,b.length);c--;)if(a[c]!==b[c])return!0;return!1}function c(){void 0!==g&&!0!==f.debounce||(h("cancel Immediate"),p(g),g=o(d))}function d(){if(g=void 0,!1===j){for(var a,b,c,d,e,f,h,m,n=0,o=i.length;n<o;n++)if(a=i[n],void 0!==(b=k[a])&&!1===b.paused)for(b=b.calls,k[a].calls=[],c=0,d=b.length;c<d;c++)e=b[c],f=e.ctx,h=e.fn,m=e.args,h.apply(f,m);for(c=l.length;c--;)l[c]()}}function e(b,d,e){var g=this;return"string"==typeof d?b[d]=this.wrap(b,b[d],e):(void 0!==d&&d instanceof Function||(e=d,d=b,b=null),e=e||{uniq:!1,weight:0},f.disabled?function(){return d.apply(b,arguments)}:function(){var f=arguments.length,h=new Array(f);if(f>0)if(f<=2)h[0]=arguments[0],2===f&&(h[1]=arguments[1]);else for(var i=0;i<f;i++)h[i]=arguments[i];if(!e.uniq||a(g.calls,d,h,e.uniq)){var j=g.calls;j.push({fn:d,ctx:b,args:h,weight:0|e.weight}),0!==e.weight&&n(j),c()}})}function f(a){return void 0==k[a]&&(k[a]={calls:[],paused:!1,wrap:e,add:function(a,b,c){this.wrap(a,b,c)()},pause:function(){this.paused=!0},unpause:function(){this.paused=!1},clear:function(){this.calls=[]}},i.push(a)),k[a]}var g,h=console.warn.bind(console,"[callStack]"),i=["default"],j=!1,k={},l=[],m=Math.max,n=function(a){var b,c=a.length;if(c>1)for(;c-- >1&&a[c].weight>a[c-1].weight;)b=a[c],a[c]=a[c-1],a[c-1]=b},o=window.setImmediate||function(a){return window.setTimeout(a,0)},p=window.clearImmediate||window.clearTimeout;return f.wrap=function(a,b,c){return f("default").wrap(a,b,c)},f.add=function(a,b,c){f("default").add(a,b,c)},f.tick=function(a){l.push(a)},f.untick=function(a){for(var b=l.length;b--;)if(l[b]===a){l.splice(b,1);break}},f.tick.one=function(a){var b=function(){f.untick(b),a()};f.tick(b)},f.order=function(){for(var a,b=arguments,c=b.length;c--;)for(a=i.length;a--;)if(i[a]===b[c]){i.splice(a,1);break}i.splice.apply(i,[1,0].concat([].slice.call(b)))},f.pause=function(){j=!0},f.unpause=function(){j=!1,c()},f.clear=function(a){f(a||"default").clear()},f.override=function(a,b,c){return"string"==typeof b?a[b]=f.override(a,a[b],c):(void 0===c&&(c=b,b=a),c(b))},f.debounce=!1,f.version="1.0.1",f});