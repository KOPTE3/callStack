/*! callStack 0.5.0 - MIT | git://github.com/rubaxa/callStack.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define([],function(){return a()}):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():window.callStack=a()}(function(){"use strict";function a(a,c,d,e){for(var f,g=a.length;g--;)if(f=a[g],f.fn===c)return"once"===e?(a.splice(g,1),!0):b(f.args,d);return!0}function b(a,b){if(a.length!==b.length)return!0;for(var c=l(a.length,b.length);c--;)if(a[c]!==b[c])return!0;return!1}function c(){(void 0===g||f.debounce===!0)&&(o(g),g=n(d))}function d(){if(g=void 0,i===!1){for(var a,b,c,d,e,f,l,m,n=0,o=h.length;o>n;n++)if(a=h[n],b=j[a],void 0!==b&&b.paused===!1)for(b=b.calls,j[a].calls=[],c=0,d=b.length;d>c;c++)switch(e=b[c],f=e.ctx,l=e.fn,m=e.args,m.length){case 0:l.call(f);break;case 1:l.call(f,m[0]);break;case 2:l.call(f,m[0],m[1]);break;case 3:l.call(f,m[0],m[1],m[2]);break;case 4:l.call(f,m[0],m[1],m[2],m[3]);break;default:l.apply(f,m)}for(c=k.length;c--;)k[c]()}}function e(b,d,e){var g=this;return"string"==typeof d?b[d]=this.wrap(b,b[d],e):(void 0!==d&&d instanceof Function||(e=d,d=b,b=null),e=e||{uniq:!1,weight:0},f.disabled?d:function(){if(!e.uniq||a(g.calls,d,arguments,e.uniq)){var f=g.calls;f.push({fn:d,ctx:b,args:arguments,weight:0|e.weight}),0!==e.weight&&m(f),c()}})}function f(a){return void 0==j[a]&&(j[a]={calls:[],paused:!1,wrap:e,add:function(a,b,c){this.wrap(a,b,c)()},pause:function(){this.paused=!0},unpause:function(){this.paused=!1},clear:function(){this.calls=[]}},h.push(a)),j[a]}var g,h=["default"],i=!1,j={},k=[],l=Math.max,m=function(a){var b,c=a.length;if(c>1)for(;c-- >1&&a[c].weight>a[c-1].weight;)b=a[c],a[c]=a[c-1],a[c-1]=b},n=window.setImmediate||function(a){window.setTimeout(a,0)},o=window.clearImmediate||window.clearTimeout;return f.wrap=function(a,b,c){return f("default").wrap(a,b,c)},f.add=function(a,b,c){f("default").add(a,b,c)},f.tick=function(a){k.push(a)},f.untick=function(a){for(var b=k.length;b--;)if(k[b]===a){k.splice(b,1);break}},f.tick.one=function(a){var b=function(){f.untick(b),a()};f.tick(b)},f.order=function(){for(var a,b=arguments,c=b.length;c--;)for(a=h.length;a--;)if(h[a]===b[c]){h.splice(a,1);break}h.splice.apply(h,[1,0].concat([].slice.call(b)))},f.pause=function(){i=!0},f.unpause=function(){i=!1,c()},f.clear=function(a){f(a||"default").clear()},f.override=function(a,b,c){return"string"==typeof b?a[b]=f.override(a,a[b],c):(void 0===c&&(c=b,b=a),c(b))},f.debounce=!1,f.version="0.5.0",f});