/*! callStack 0.2.0 - MIT | git://github.com/rubaxa/callStack.git */
"use strict";(function(n){"function"==typeof define&&define.amd?define("callStack",[],n):"undefined"!=typeof module&&module.exports!==void 0?module.exports=n():window.callStack=n()})(function(){function n(n,t,i,a){for(var r,o=n.length;o--;)if(r=n[o],r.fn===t)return"once"===a?(n.splice(o,1),!0):e(r.args,i);return!0}function e(n,e){if(n.length!==e.length)return!0;for(var t=s(n.length,e.length);t--;)if(n[t]!==e[t])return!0;return!1}function t(){h(o),o=w(i)}function i(){if(l===!1){for(var n,e,t,i,a,r,o,s,d=0,w=c.length;w>d;d++)if(n=c[d],void 0!==u[n])for(e=u[n].calls,t=0,i=e.length,u[n].calls=[];i>t;t++)switch(a=e[t],r=a.ctx,o=a.fn,s=a.args,s.length){case 0:o.call(r);break;case 1:o.call(r,s[0]);break;case 2:o.call(r,s[0],s[1]);break;case 3:o.call(r,s[0],s[1],s[2]);break;case 4:o.call(r,s[0],s[1],s[2],s[3]);break;default:o.apply(r,s)}for(t=f.length;t--;)f[t]()}}function a(e,i,a){var r=this;return"string"==typeof i?e[i]=this.wrap(e,e[i],a):(void 0!==i&&i instanceof Function||(a=i,i=e,e=null),a=a||{uniq:!1,weight:0},0!==a.weight&&(r.sortable=!0),function(){if(!a.uniq||n(r.calls,i,arguments,a.uniq)){var o=r.calls;o.push({fn:i,ctx:e,args:arguments,weight:a.weight||0}),r.sortable===!0&&d(o),t()}})}function r(n){return void 0==u[n]&&(u[n]={calls:[],wrap:a,add:function(n,e,t){this.wrap(n,e,t)()},clear:function(){this.calls=[]}},c.push(n)),u[n]}var o,c=["default"],l=!1,u={},f=[],s=Math.max,d=function(n){var e,t=n.length;if(t>1)for(;t-->1&&n[t].weight>n[t-1].weight;)e=n[t],n[t]=n[t-1],n[t-1]=e},w=function(){return window.setImmediate||window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,0)}}(),h=function(){return window.clearImmediate||window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearInterval}();return r.wrap=function(n,e,t){return r("default").wrap(n,e,t)},r.add=function(n,e,t){r("default").add(n,e,t)},r.tick=function(n){f.push(n)},r.untick=function(n){for(var e=f.length;e--;)if(f[e]===n){f.splice(e,1);break}},r.tick.one=function(n){r.tick(function e(){r.untick(e),n()})},r.order=function(){for(var n,e=arguments,t=e.length;t--;)for(n=c.length;n--;)if(c[n]===e[t]){c.splice(n,1);break}c.splice.apply(c,[1,0].concat([].slice.call(e)))},r.pause=function(){l=!0},r.unpause=function(){l=!1,t()},r.clear=function(n){r(n||"default").clear()},r.version="0.2.0",r});