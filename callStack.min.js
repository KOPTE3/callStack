/*! callStack 0.1.0 - MIT | git://github.com/rubaxa/callStack.git */
"use strict";(function(n){"function"==typeof define&&define.amd?define("callStack",[],n):"undefined"!=typeof module&&module.exports!==void 0?module.exports=n():window.callStack=n()})(function(){function n(n,t){return n.weight>t.weight?-1:t.weight==n.weight?0:1}function t(n,t,i,r){for(var o,a=n.length;a--;)if(o=n[a],o.fn===t)return"once"===r?(n.splice(a,1),!0):e(o.args,i);return!0}function e(n,t){if(n.length!==t.length)return!0;for(var e=w(n.length,t.length);e--;)if(n[e]!==t[e])return!0;return!1}function i(){m(u),u=d(r)}function r(){if(l===!1){for(var n,t,e,i,r,o=0,a=c.length;a>o;o++)if(n=c[o],void 0!==f[n])for(t=f[n].calls,e=0,i=t.length,f[n].calls=[];i>e;e++)r=t[e],r.fn.apply(r.ctx,r.args);for(e=s.length;e--;)s[e]()}}function o(e,r,o){var a=this;return"string"==typeof r?e[r]=this.wrap(e,e[r],o):(void 0!==r&&r instanceof Function||(o=r,r=e,e=null),o=o||{uniq:!1,weight:0},0!==o.weight&&(a.sortable=!0),function(){(!o.uniq||t(a.calls,r,arguments,o.uniq))&&(a.calls.push({fn:r,ctx:e,args:arguments,weight:o.weight||0}),a.sortable===!0&&a.calls.sort(n),i())})}function a(n){return void 0==f[n]&&(f[n]={calls:[],wrap:o,clear:function(){this.calls=[]}},c.push(n)),f[n]}var u,c=["default"],l=!1,f={},s=[],w=Math.max,d=function(){return window.setImmediate||window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,0)}}(),m=function(){return window.clearImmediate||window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearInterval}();return a.wrap=function(){var n=a("default");return n.wrap.apply(n,arguments)},a.tick=function(n){s.push(n)},a.untick=function(n){for(var t=s.length;t--;)if(s[t]===n){s.splice(t,1);break}},a.tick.one=function(n){a.tick(function t(){a.untick(t),n()})},a.order=function(){for(var n,t=arguments,e=t.length;e--;)for(n=c.length;n--;)if(c[n]===t[e]){c.splice(n,1);break}c.splice.apply(c,[1,0].concat([].slice.call(t)))},a.pause=function(){l=!0},a.unpause=function(){l=!1,i()},a.clear=function(n){a(n||"default").clear()},a});