/*! callStack 0.4.2 - MIT | git://github.com/rubaxa/callStack.git */
(function(n){"use strict";"function"==typeof define&&(define.amd||define.ajs)?define("callStack",[],function(){return n()}):"undefined"!=typeof module&&module.exports!==void 0?module.exports=n():window.callStack=n()})(function(){"use strict";function n(n,t,i,a){for(var u,c=n.length;c--;)if(u=n[c],u.fn===t)return"once"===a?(n.splice(c,1),!0):e(u.args,i);return!0}function e(n,e){if(n.length!==e.length)return!0;for(var t=s(n.length,e.length);t--;)if(n[t]!==e[t])return!0;return!1}function t(){(void 0===c||u.debounce===!0)&&(p(c),c=h(i))}function i(){if(c=void 0,o===!1){for(var n,e,t,i,a,u,s,d,h=0,p=r.length;p>h;h++)if(n=r[h],e=f[n],void 0!==e&&e.paused===!1)for(e=e.calls,f[n].calls=[],t=0,i=e.length;i>t;t++)switch(a=e[t],u=a.ctx,s=a.fn,d=a.args,d.length){case 0:s.call(u);break;case 1:s.call(u,d[0]);break;case 2:s.call(u,d[0],d[1]);break;case 3:s.call(u,d[0],d[1],d[2]);break;case 4:s.call(u,d[0],d[1],d[2],d[3]);break;default:s.apply(u,d)}for(t=l.length;t--;)l[t]()}}function a(e,i,a){var c=this;return"string"==typeof i?e[i]=this.wrap(e,e[i],a):(void 0!==i&&i instanceof Function||(a=i,i=e,e=null),a=a||{uniq:!1,weight:0},u.disabled?i:function(){if(!a.uniq||n(c.calls,i,arguments,a.uniq)){var u=c.calls;u.push({fn:i,ctx:e,args:arguments,weight:0|a.weight}),0!==a.weight&&d(u),t()}})}function u(n){return void 0==f[n]&&(f[n]={calls:[],paused:!1,wrap:a,add:function(n,e,t){this.wrap(n,e,t)()},pause:function(){this.paused=!0},unpause:function(){this.paused=!1},clear:function(){this.calls=[]}},r.push(n)),f[n]}var c,r=["default"],o=!1,f={},l=[],s=Math.max,d=function(n){var e,t=n.length;if(t>1)for(;t-->1&&n[t].weight>n[t-1].weight;)e=n[t],n[t]=n[t-1],n[t-1]=e},h=window.setImmediate||function(n){window.setTimeout(n,0)},p=window.clearImmediate||window.clearTimeout;return u.wrap=function(n,e,t){return u("default").wrap(n,e,t)},u.add=function(n,e,t){u("default").add(n,e,t)},u.tick=function(n){l.push(n)},u.untick=function(n){for(var e=l.length;e--;)if(l[e]===n){l.splice(e,1);break}},u.tick.one=function(n){u.tick(function e(){u.untick(e),n()})},u.order=function(){for(var n,e=arguments,t=e.length;t--;)for(n=r.length;n--;)if(r[n]===e[t]){r.splice(n,1);break}r.splice.apply(r,[1,0].concat([].slice.call(e)))},u.pause=function(){o=!0},u.unpause=function(){o=!1,t()},u.clear=function(n){u(n||"default").clear()},u.override=function(n,e,t){return"string"==typeof e?n[e]=u.override(n,n[e],t):(void 0===t&&(t=e,e=n),t(e))},u.debounce=!1,u.version="0.4.2",u});